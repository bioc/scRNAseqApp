---
title: "scRNAseqApp Guide"
author: "Jianhong Ou"
bibliography: bibliography.bib
csl: nature.csl
vignette: >
  %\VignetteIndexEntry{scRNAseqApp Vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
output:
  BiocStyle::html_document:
    toc: true
    toc_float: true
    toc_depth: 4
---

```{r, echo=FALSE, results="hide", warning=FALSE, message=FALSE}
suppressPackageStartupMessages({
  library(scRNAseqApp)
})
knitr::opts_chunk$set(warning=FALSE, message=FALSE, fig.width=5, fig.height=3.5)
```

# Introduction

Single-cell RNA sequencing (scRNA-seq) is a powerful technique to study gene
expression, cellular heterogeneity, and cell states within samples in
single-cell level. The development of scRNA-seq shed light to address the
knowledge gap about the cell types, cell interactions, and key genes involved
in biological process and their dynamics.

To increase the re-usability and reproducibility of scientific findings,
more and more publishers require raw data and detailed descriptions of how the
data were analyzed. However, difficulties arise due to the highly concise
descriptions of analysis and the differences of the computing environments.
Furthermore, to precisely meet the publishing requirement, the communication of
the bioinformatician with researchers is a time-consuming step.
Multiple interactive visualization tools were developed to provide the
researchers access to the details of the data. Those tools include,
but not limited to,
alona[@franzen2020alona],
ASAP[@gardeux2017asap],
Asc-Seurat[@pereira2021asc],
BingleSeq[@dimitrov2020bingleseq],
CellView[@bolisetty2017cellview],
cellxgene VIP[@li2022cellxgene],
Cerebro[@hillje2020cerebro],
CHARTS[@bernstein2021charts],
ChromSCape[@prompsy2020interactive],
Cirrocumulus[@li2020cumulus],
CReSCENT[@mohanraj2020crescent],
Cytosplore Viewer[@tasic2018shared],
Granatum[@zhu2017granatum],
InterCellar[@interlandi2022intercellar],
iS-CellR[@patel2018cellr],
iSEE[@rue2018isee],
loom-viewer,
Loupe Cell Browser,
PIVOT[@zhu2018pivot],
SC1[@moussa2021sc1],
SCANNER[@cai2022scanner],
scClustViz[@innes2018scclustviz],
SCope[@davie2018single],
scSVA[@tabaka2019scsva],
scVI[@lopez2018deep],
SeuratV3Wizard[@yousif2020nasqar]/NASQAR,
ShinyArchRUiO[@sharma2022shinyarchr],
ShinyCell[@ouyang2021shinycell],
singleCellTK[@hong2022comprehensive],
Single Cell Explorer (scExplorer)[@feng2019single],
Single Cell Interactive Application (SCiAp)[@moreno2021user] and
UCSC Cell Browser[@speir2021ucsc],
SPRING[@weinreb2018spring],
WASP[@hoek2021wasp], and
Vitessce[@keller2021vitessce].

The basic information of the tools are list in the following table
(the table was created at 12/06/2022):

| Tool                                        | platform       | source code                                        | languages                  | demo                                                                                                          | plot type                                  | visualization tutorial                                                           | license    | starts | watching | forks | citation |                                                 |
|---------------------------------------------|----------------|----------------------------------------------------|----------------------------|---------------------------------------------------------------------------------------------------------------|--------------------------------------------|----------------------------------------------------------------------------------|------------|--------|----------|-------|----------|-------------------------------------------------|
| alona                                       | web-based      | https://github.com/oscar-franzen/adobo/            | python                     | https://alona.panglaodb.se/                                                                                   | scatters, bar                              | https://alona.panglaodb.se/faq.html                                              | GPL-3.0    | 12     | 3        | 5     | 24       |                                                 |
| ASAP                                        | web-based      | https://github.com/DeplanckeLab/ASAP               | Java, R, Python            | https://asap.epfl.ch/                                                                                         | scatters                                   | https://asap.epfl.ch/home/tutorial?t=fca                                         | GPL-3.0    | 18     | 6        | 8     | 88       |                                                 |
| Asc-Seurat                                  | shiny package  | https://github.com/KirstLab/asc_seurat/            | R                          |                                                                                                               | scatters, heatmap, violin, dot, trajectory | https://asc-seurat.readthedocs.io/en/latest/index.html                           | GPL-3.0    | 12     | 2        | 6     | 10       |                                                 |
| BingleSeq                                   | shiny package  | https://github.com/dbdimitrov/BingleSeq/           | R                          |                                                                                                               | scatters, heatmap, violin, ridge           | https://github.com/dbdimitrov/BingleSeq/blob/master/README.md                    | MIT        | 18     | 2        | 6     | 4        |                                                 |
| CellView                                    | shiny package  | https://github.com/mohanbolisetty/CellView         | R                          | https://mbolisetty.shinyapps.io/CellView/                                                                     | scatters                                   |                                                                                  | MIT        | 16     | 9        | 8     | 8        |                                                 |
| cellxgene VIP                               | web-based      | https://github.com/interactivereport/cellxgene_VIP | python, R, JavaScript      | https://cellxgenevip-ms.bxgenomics.com/                                                                       | scatters, bar                              | https://interactivereport.github.io/cellxgene_VIP/tutorial/docs                  | MIT        | 81     | 6        | 24    | 10       |                                                 |
| Cerebro/cerebroApp                          | shiny package  | https://github.com/romanhaa/Cerebro                | R, JavaScript, C           |                                                                                                               | scatters, 3D scatters                      | https://romanhaa.github.io/cerebroApp/                                           | MIT        | 79     | 7        | 18    | 41       |                                                 |
| CHARTS                                      | web-based      | https://github.com/stewart-lab/CHARTS              | python                     | charts.morgridge.org                                                                                          | scatters, bar                              | https://github.com/stewart-lab/CHARTS/blob/master/README.md                      | MIT        | 2      | 6        | 0     | 7        |                                                 |
| ChromSCape                                  | shiny package  | https://github.com/vallotlab/ChromSCape            | R                          | https://vallotlab.shinyapps.io/ChromSCape/                                                                    | scatters, heatmap                          | https://vallotlab.github.io/ChromSCape/articles/vignette.html                    | GPL-3.0    | 11     | 2        | 4     | 13       |                                                 |
| Cirrocumulus                                | python package | https://github.com/lilab-bcb/cirrocumulus          | JavaScript, Python         |                                                                                                               |                                            | https://cirrocumulus.readthedocs.io/en/latest/                                   | BSD-3      | 38     | 7        | 9     | 78       |                                                 |
| CReSCENT                                    | web-based      | https://github.com/pughlab/crescent                | R, Perl                    | https://crescent.cloud/                                                                                       | scatters, violin                           | https://pughlab.github.io/crescent-frontend/                                     | GPL-3.0    | 8      | 1        | 4     | 11       |                                                 |
| Cytosplore Viewer                           | Cytosplore     |                                                    | java, javascript           |                                                                                                              | scatters, phylogeny                        | https://viewer.cytosplore.org/                                                   |            |        |          |       |          |                                                 |
| Granatum                                    | shiny package  | https://github.com/lanagarmire/Granatum            | R                          | http://granatum.dcmb.med.umich.edu:8103/                                                                      | scatters, bar, trajectory, ppi             | https://github.com/lanagarmire/Granatum/blob/master/doc/Granatum_manual_0.92.pdf | Apache-2.0 | 18     | 4        | 11    | 65       |                                                 |
| InterCellar                                 | shiny package  | https://github.com/martaint/InterCellar            | R                          |                                                                                                               | dot, ppi, circos, radar, pie               |                                                                                  | MIT        | 7      | 1        | 3     | 4        |                                                 |
| iS-CellR                                    | shiny package  | https://github.com/immcore/iS-CellR                | R                          |                                                                                                               | scatters, heatmap, violin, bar, dot        |                                                                                  | GPL-3.0    | 21     | 6        | 6     | 15       |                                                 |
| iSEE                                        | shiny package  | https://github.com/iSEE/iSEE                       | R                          | https://marionilab.cruk.cam.ac.uk/iSEE_allen/                                                                 | scatters, heatmap, violin, bar             |                                                                                  | MIT        | 201    | 14       | 39    | 41       |                                                 |
| loom-viewer                                 | python package | https://github.com/linnarsson-lab/loom-viewer      | python, JavaScript         |                                                                                                               |                                            | https://github.com/linnarsson-lab/loom-viewer                                    | BSD-2      | 32     | 9        | 6     |          |                                                 |
| Loupe Cell Browser                          | Desktop        |                                                    |                            |                                                                                                               | scatters                                   |                                                                                  |            |        |          |       |          |                                                 |
| PIVOT                                       | shiny package  | https://github.com/kimpenn/PIVOT                   | R                          |                                                                                                               | scatters, heatmap, violin, bar, pie        | https://rawgit.com/qinzhu/PIVOT/master/inst/app/www/manual_file.html             |            | 27     | 6        | 15    | 27       |                                                 |
| SC1                                         | web-based      |                                                    | R                          | https://sc1.engr.uconn.edu/                                                                                   | scatters, heatmap, violin, bar             |                                                                                  |            |        |          |       | 5        |                                                 |
| SCANNER                                     | web-based      | https://github.com/GuoshuaiCai/scanner             | R                          | https://www.thecailab.com/scanner/                                                                            | scatters                                   |                                                                                  |            | 0      | 2        | 1     | 1        |                                                 |
| scClustViz                                  | shiny package  | https://github.com/BaderLab/scClustViz             | R                          | https://innesbt.shinyapps.io/scclustvizdemoapp/                                                               | scatters, heatmap, violin, bar, dot        |                                                                                  | MIT        | 41     | 12       | 10    | 36       |                                                 |
| scExplorer                                  | web-based      | https://github.com/d-feng/scExplorer               | JavaScript, Python         | http://singlecellexplorer.org                                                                                 | scatters, heatmap                          | http://singlecellexplorer.org/tutorial.html                                      | GPL-3.0    | 7      | 3        | 6     | 16       |                                                 |
| SCope                                       | web-based      | https://github.com/aertslab/Scope                  | python, JavaScript         | https://scope.aertslab.org/                                                                                   | scatters                                   | https://github.com/aertslab/SCope/blob/master/README.md                          | GPL-3.0    | 60     | 8        | 14    | 438      | the package contribute paritial to the citation |
| scSVA                                       | shiny package  | https://github.com/klarman-cell-observatory/scSVA  | R                          |                                                                                                               | scatters, 3D scatters                      | https://github.com/klarman-cell-observatory/scSVA/blob/master/docs/index.md      | GPL-3.0    | 20     | 6        | 7     | 8        |                                                 |
| scVI                                        | python package | https://github.com/scverse/scvi-tools              | python                     |                                                                                                               | scatters, heatmap, violin, bar             | https://docs.scvi-tools.org/en/stable/user_guide/index.html                      | BSD-3      | 840    | 27       | 263   | 787      |                                                 |
| seuratv3wizard                              | web-based      | https://github.com/nasqar/seuratv3wizard           | R                          | https://nasqar.abudhabi.nyu.edu/SeuratV3Wizard/                                                               | scatters                                   | https://github.com/nasqar/seuratv3wizard/blob/master/README.md                   | GPL-3.0    | 29     | 8        | 13    | 28       | citation is from NASQAR                         |
| ShinyArchRUiO                               | shiny package  | https://github.com/EskelandLab/ShinyArchRUiO       | R                          | https://cancell.medisin.uio.no/ShinyArchR.UiO/                                                                | scatters, heatmap, track                   |                                                                                  | GPL-3.0    | 11     | 2        | 4     | 3        |                                                 |
| ShinyCell                                   | shiny package  | https://github.com/SGDDNB/ShinyCell                | R                          | http://shinycell1.ddnetbio.com/                                                                               | scatters, heatmap, violin, bar             | https://github.com/SGDDNB/ShinyCell/blob/master/README.md                        | GPL-3.0    | 70     | 9        | 23    | 28       |                                                 |
| Single Cell Interactive Application (SCiAp) | galaxy         |                                                    |                            | https://humancellatlas.usegalaxy.eu/                                                                          |                                            |                                                                                  |            |        |          |       | 16       |                                                 |
| singleCellTK                                | shiny package  | https://github.com/compbiomed/singleCellTK         | R                          | https://sctk.bu.edu/                                                                                          | scatters, heatmap, violin, dot, trajectory |                                                                                  | MIT        | 105    | 12       | 61    | 6        |                                                 |
| SPRING                                      | python package | https://github.com/AllonKleinLab/SPRING_dev        | python, matlab, JavaScript | https://kleintools.hms.harvard.edu/tools/springViewer_1_6_dev.html?datasets/mouse_HPCs/basal_bone_marrow/full | scatters                                   | https://kleintools.hms.harvard.edu/tools/spring.html                             |            | 59     | 10       | 29    | 250      |                                                 |
| UCSC Cell Browser                           | web-based      | https://github.com/ucscGenomeBrowser/cellBrowser   | JavaScript, Python, R      | https://cells.ucsc.edu/                                                                                       | scatters                                   | https://cellbrowser.readthedocs.io/en/master/interface.html                      | GPL-3.0    | 3      | 1        | 39    | 46       |                                                 |
| Vitessce                                    | python package | https://github.com/vitessce/vitessce               | JavaScript, Python, R      | http://vitessce.io/                                                                                           | scatters, heatmap                          | http://vitessce.io/docs/                                                         | MIT        | 92     | 6        | 23    | 2        |                                                 |
| WASP                                        | shiny package  | https://github.com/andreashoek/wasp                | R, python                  |                                                                                                               | scatters, heatmap                          | https://github.com/andreashoek/wasp/blob/main/README.md                          |            | 2      | 1        | 0     | 3        |                                                 |


# Motivation

Based on [_ShinyCell_](https://github.com/SGDDNB/ShinyCell), The _scRNAseqApp_ package is developed with multiple
highly interactive visualizations of how cells and subsets of cells cluster
behavior.
The end users can discover the expression of genes in multiple interactive
manners with highly customized filter conditions by selecting metadata
supplied with the publications and download the ready-to-use results for
republishing. 

# Quick start

Here is an example using _scRNAseqApp_ with a subset of scRNA-seq data.

## Installation
First, install _scRNAseqApp_ and other packages required to run 
the examples.
Please note that the example dataset used here is from a small subset of
PBMC[@satija2015spatial].
Additional package are also required for enhancement functions such 
trajectory analysis or cell communication analysis.

```{r, eval=FALSE}
library(BiocManager)
BiocManager::install("scRNAseqApp")
```

## Load library

```{r}
library(scRNAseqApp)
```

## Initial the database

```{r}
scInit(app_path=".")
```

## Start shiny app
```{r}
scRNAseqApp()
```

# Create a new data

There are two ways to create a new data.

- from the administrator mode
- use R session

## by administrator

Log in to admin by `Switch User` tab and click `administrator button` in the 
right-bottom corner of screen. Click `UploadData` and upload a Seurat object.

## via R session

There are two steps to create a new data via R session. First, create the config
file with description of the data and second create the data from a Seurat object.

```{r, eval=FALSE}
library(Seurat)
appconf <- createAppConfig(
            title="pbmc_small_test",
            destinationFolder = "pbmc_small_test",
            species = "Homo sapiens",
            doi="10.1038/nbt.3192",
            datatype = "scRNAseq")
createDataSet(appconf, pbmc_small, datafolder="data")
```

# Distribute to a shiny server

There are two steps to distribute to a shiny server. First, install the package
in the server as root user. Second, in a R session run `scInit()` after load 
the `scRNAseqApp` library. If you initialed the app offline, copy the app folder
to the shiny server.

# SessionInfo

```{r}
sessionInfo()
```


# References
